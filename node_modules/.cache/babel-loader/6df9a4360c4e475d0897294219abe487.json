{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nimport blogService from '../services/blogs.js';\nconst initialState = [];\nconst postSlice = createSlice({\n  name: 'post',\n  initialState,\n  reducers: {\n    setPosts(state, action) {\n      //{console.log(action.payload)}\n      return action.payload;\n    },\n\n    addPost(state, action) {\n      state.push(action.payload);\n      state.sort((a, b) => {\n        return b.likes - a.likes;\n      });\n    }\n\n  }\n});\nexport const {\n  setPosts,\n  addPost\n} = postSlice.actions;\nexport const initializePosts = () => {\n  return async dispatch => {\n    const posts = await blogService.getAll();\n    dispatch(setPosts(posts));\n  };\n};\nexport const addaPost = object => {\n  return async dispatch => {\n    const post = await blogService.create(object);\n    dispatch(addPost(post));\n  };\n};\nexport default postSlice.reducer;","map":{"version":3,"sources":["/home/isaac/git/react_stuff/blog-redux-router-styling/src/reducers/postReducer.js"],"names":["createSlice","blogService","initialState","postSlice","name","reducers","setPosts","state","action","payload","addPost","push","sort","a","b","likes","actions","initializePosts","dispatch","posts","getAll","addaPost","object","post","create","reducer"],"mappings":"AAAA,SAASA,WAAT,QAA4B,kBAA5B;AACA,OAAOC,WAAP,MAAwB,sBAAxB;AACA,MAAMC,YAAY,GAAG,EAArB;AAEA,MAAMC,SAAS,GAAGH,WAAW,CAAC;AAC1BI,EAAAA,IAAI,EAAE,MADoB;AAE1BF,EAAAA,YAF0B;AAG1BG,EAAAA,QAAQ,EAAE;AACNC,IAAAA,QAAQ,CAACC,KAAD,EAAQC,MAAR,EAAe;AACnB;AACA,aAAOA,MAAM,CAACC,OAAd;AACH,KAJK;;AAKNC,IAAAA,OAAO,CAACH,KAAD,EAAQC,MAAR,EAAgB;AACnBD,MAAAA,KAAK,CAACI,IAAN,CAAWH,MAAM,CAACC,OAAlB;AACAF,MAAAA,KAAK,CAACK,IAAN,CAAW,CAACC,CAAD,EAAGC,CAAH,KAAS;AAAC,eAAOA,CAAC,CAACC,KAAF,GAAUF,CAAC,CAACE,KAAnB;AAAyB,OAA9C;AACH;;AARK;AAHgB,CAAD,CAA7B;AAeA,OAAO,MAAM;AAACT,EAAAA,QAAD;AAAWI,EAAAA;AAAX,IAAsBP,SAAS,CAACa,OAAtC;AACP,OAAO,MAAMC,eAAe,GAAG,MAAM;AACjC,SAAO,MAAMC,QAAN,IAAkB;AACrB,UAAMC,KAAK,GAAG,MAAMlB,WAAW,CAACmB,MAAZ,EAApB;AACAF,IAAAA,QAAQ,CAACZ,QAAQ,CAACa,KAAD,CAAT,CAAR;AACH,GAHD;AAIH,CALM;AAMP,OAAO,MAAME,QAAQ,GAAIC,MAAD,IAAY;AAChC,SAAO,MAAMJ,QAAN,IAAkB;AACrB,UAAMK,IAAI,GAAG,MAAMtB,WAAW,CAACuB,MAAZ,CAAmBF,MAAnB,CAAnB;AACAJ,IAAAA,QAAQ,CAACR,OAAO,CAACa,IAAD,CAAR,CAAR;AACH,GAHD;AAIH,CALM;AAMP,eAAepB,SAAS,CAACsB,OAAzB","sourcesContent":["import { createSlice } from '@reduxjs/toolkit'\nimport blogService from '../services/blogs.js'\nconst initialState = []\n\nconst postSlice = createSlice({\n    name: 'post',\n    initialState,\n    reducers: {\n        setPosts(state, action){\n            //{console.log(action.payload)}\n            return action.payload\n        },\n        addPost(state, action) {\n            state.push(action.payload)\n            state.sort((a,b) => {return b.likes - a.likes})\n        }\n    }\n})\n\nexport const {setPosts, addPost} = postSlice.actions\nexport const initializePosts = () => {\n    return async dispatch => {\n        const posts = await blogService.getAll() \n        dispatch(setPosts(posts))\n    } \n}\nexport const addaPost = (object) => {\n    return async dispatch => {\n        const post = await blogService.create(object)\n        dispatch(addPost(post))\n    }\n}\nexport default postSlice.reducer\n"]},"metadata":{},"sourceType":"module"}